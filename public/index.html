<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>예식이</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="css/slick.css" />
    <link rel="stylesheet" href="css/tooplate-simply-amazed.css" />
    <link rel="stylesheet" href="css/index.css" />
    <style></style>
  </head>
  <body>
    <div id="outer">
      <header class="header order-last" id="tm-header">
        <nav class="navbar">
          <div class="collapse navbar-collapse single-page-nav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="#section-1"
                  ><i class="fas fa-2x fa-project-diagram"></i> 소개</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#section-2"
                  ><i class="fas fa-2x fa-upload"></i> 파일 입력</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#section-3"
                  ><i class="far fa-2x fa-images"></i> 결과 보기</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#section-4"
                  ><i class="fas fa-2x fa-download"></i> 이미지 저장</a
                >
              </li>
            </ul>
          </div>
        </nav>
      </header>

      <button class="navbar-button collapsed" type="button">
        <span class="menu_icon">
          <span class="icon-bar"></span><span class="icon-bar"></span
          ><span class="icon-bar"></span>
        </span>
      </button>

      <main id="content-box" class="order-first">
        <!-- 소개 섹션 -->
        <div
          class="banner-section section parallax-window"
          data-parallax="scroll"
          data-image-src="img/bg.jpg"
          id="section-1"
        >
          <div class="container text-center">
            <div class="item">
              <img src="img/logo.png" alt="예식이 로고" class="logo-img mb-2" />
              <div class="text-white bg-blue-transparent simple">
                <h2>프랜차이즈 식자재 구매 최적화 서비스</h2>
                <p class="text-white lead">
                  "예식이"는 각 메뉴의 일자별 판매량을 예측하여 식자재 수요를
                  정확히 파악하고 비용을 줄이는 AIOps 기반 플랫폼입니다.
                </p>
              </div>
              <div class="bg-blue-transparent simple mt-4">
                <h4 class="text-white text-center mb-4">💡 주요 기능</h4>
                <div class="row text-center">
                  <!-- 기능 1 -->
                  <div class="col-md-3 col-6 mb-4">
                    <div class="feature-card">
                      <i class="fas fa-file-csv fa-3x mb-2"></i>
                      <p class="text-white mt-2">
                        CSV 업로드를 통한<br />일자별 수요 예측
                      </p>
                    </div>
                  </div>

                  <!-- 기능 2 -->
                  <div class="col-md-3 col-6 mb-4">
                    <div class="feature-card">
                      <i class="fas fa-chart-line fa-3x mb-2"></i>
                      <p class="text-white mt-2">
                        AI 모델 기반<br />예측 결과 시각화
                      </p>
                    </div>
                  </div>

                  <!-- 기능 3 -->
                  <div class="col-md-3 col-6 mb-4">
                    <div class="feature-card">
                      <i class="fas fa-redo-alt fa-3x mb-2"></i>
                      <p class="text-white mt-2">
                        성능 저하 시<br />재학습 기능 제공
                      </p>
                    </div>
                  </div>

                  <!-- 기능 4 -->
                  <div class="col-md-3 col-6 mb-4">
                    <div class="feature-card">
                      <i class="fas fa-download fa-3x mb-2"></i>
                      <p class="text-white mt-2">
                        예측 결과 이미지<br />다운로드 지원
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-5">
                <a href="#section-2" class="btn btn-primary btn-lg"
                  >서비스 시작하기</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- 파일 업로드 섹션 -->
        <section class="work-section section" id="section-2">
          <div
            class="container d-flex justify-content-center align-items-center flex-column"
          >
            <div
              class="upload-card p-4 shadow rounded text-center"
              style="width: 100%; max-width: 500px"
            >
              <h3 class="mb-4">File upload</h3>

              <!-- 드래그 & 드롭 영역 -->
              <div
                class="upload-box border border-2 border-secondary border-dashed rounded mb-4 p-5 w-100"
                id="dropZone"
                style="cursor: pointer; background-color: #f9f9f9"
              >
                <i class="fas fa-file-upload fa-3x text-primary mb-3"></i>
                <p class="mb-0 text-muted">
                  Drag and drop or
                  <label
                    for="fileInput"
                    class="text-primary"
                    style="cursor: pointer"
                    >browse</label
                  >
                  your files
                </p>
                <input
                  type="file"
                  id="fileInput"
                  name="uploadedFile"
                  accept=".csv"
                  hidden
                />
              </div>

              <!-- 파일 정보 및 진행률 -->
              <div id="fileInfo" class="w-100 mb-3 d-none text-start">
                <div class="d-flex align-items-center mb-2">
                  <i class="far fa-file-alt fa-lg me-2 text-secondary"></i>
                  <div>
                    <div id="fileNameText" class="fw-semibold">
                      IMG_3892.jpg
                    </div>
                    <small id="fileSizeText" class="text-muted"
                      >5.7 MB of 7.8 MB</small
                    >
                  </div>
                </div>
                <div class="progress" style="height: 8px">
                  <div
                    class="progress-bar bg-info"
                    id="progressBar"
                    role="progressbar"
                    style="width: 0%"
                  >
                    0%
                  </div>
                </div>
                <div class="text-end mt-1">
                  <small class="text-muted"
                    >Uploading… <span id="uploadPercentText">0</span>%</small
                  >
                </div>
              </div>

              <!-- Upload 버튼 -->
              <button
                class="btn btn-primary w-100 mt-3"
                id="uploadButton"
                type="button"
                disabled
              >
                Upload
              </button>
            </div>
          </div>
        </section>

        <!-- 예측 결과 -->
        <section
          class="gallery-section section parallax-window"
          data-parallax="scroll"
          data-image-src="img/section-3-bg.jpg"
          id="section-3"
        >
          <div class="container">
            <!-- 제목 -->
            <div class="title text-left">
              <h2>예측 결과</h2>
            </div>

            <!-- 수요 총량 표 -->
            <div class="table-responsive mb-4" style="max-width: 600px">
              <table class="table table-bordered text-center bg-white">
                <thead class="table-light">
                  <tr>
                    <th>총량/재료</th>
                    <th>광어</th>
                    <th>연어</th>
                    <th>장어</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>다음주 총량</td>
                    <td id="flounder-amount">-</td>
                    <td id="salmon-amount">-</td>
                    <td id="eel-amount">-</td>
                  </tr>
                </tbody>
                <tbody>
                  <tr>
                    <td>Model 재 학습 여부</td>
                    <td id="flounder-model-isRetrained">-</td>
                    <td id="salmon-model-isRetrained">-</td>
                    <td id="eel-model-isRetrained">-</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- 보고서 텍스트 영역 추가 -->
            <div id="reportText" class="bg-white p-3 rounded shadow mb-4" style="max-width: 600px; min-height: 100px;">
              <h5>보고서</h5>
              <p id="reportContent" style="white-space: pre-wrap;">예측 결과를 업로드하면 여기 보고서가 표시됩니다.</p>
            </div>

            <!-- 갤러리 슬라이더 -->
            <div class="mx-auto gallery-slider" id="galleryContainer">
              <!-- JS에서 이미지가 동적으로 삽입됩니다 -->
            </div>
          </div>
        </section>

        <!-- 결과 이미지 다운로드 -->
        <section class="work-section section" id="section-4">
          <div class="container text-center">
            <h2 style="color: white">선택한 예측 결과</h2>
            <div id="selectedImageContainer" class="mt-4"></div>
            <p style="color: white">AI가 출력한 예측 그래프를 저장해보세요.</p>
            <button id="downloadImage" class="btn btn-primary mb-3">
              이미지 다운로드
            </button>
          </div>
        </section>
      </main>
    </div>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery.singlePageNav.min.js"></script>
    <script src="js/slick.js"></script>
    <script src="js/parallax.min.js"></script>
    <script src="js/templatemo-script.js"></script>
    <script src="js/upload.js"></script>
  </body>
</html>
